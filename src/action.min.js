/**
 * 移动端操作表
 * 2016年12月20日
 */

(function(c,f){var b=function(){};b.prototype={show:function(k){var u=this;var r=k.buttons;var l=k.cancelText;var o=document.body;var q="";for(var n=0;n<r.length;n++){q+='<button class="button" id="'+n+'">'+r[n].text+"</button>"}var g='<div class="action-sheet-backdrop">'+'<div class="action-sheet-close"></div>'+'<div class="action-sheet-wrapper">'+'<div class="action-sheet">'+'<div class="action-sheet-group action-sheet-options">'+q+"</div>"+'<div class="action-sheet-group action-sheet-cancel">'+'<button class="button">'+l+"</button>"+"</div>"+"</div>"+"</div>"+"</div>";o.innerHTML+=g;var h=setTimeout(function(){d(document.querySelector(".action-sheet-wrapper"),"action-sheet-up");d(document.querySelector(".action-sheet-backdrop"),"active");c.clearTimeout(h)},20);var p=document.querySelectorAll(".action-sheet-options button");var t=document.querySelector(".action-sheet-cancel button");var s=document.querySelector(".action-sheet-close");s.addEventListener("click",function(){u.closeAction()});t.addEventListener("click",function(){k.cancel();u.closeAction()});for(var m=0;m<p.length;m++){p[m].addEventListener("click",function(){k.buttonClick(this.id);u.closeAction()})}},closeAction:function(){var g=document.querySelector(".action-sheet-backdrop");e(document.querySelector(".action-sheet-wrapper"),"action-sheet-up");e(g,"active");var h=setTimeout(function(){if(g.parentNode){g.parentNode.removeChild(g)}c.clearTimeout(h)},300)}};function a(h,g){return !!h.className.match(new RegExp("(\\s|^)"+g+"(\\s|$)"))}function d(h,g){if(!a(h,g)){h.className+=" "+g}}function e(h,g){if(a(h,g)){h.className=h.className.replace(new RegExp("(\\s|^)"+g+"(\\s|$)")," ")}}c.actionSheet=new b()})(this);